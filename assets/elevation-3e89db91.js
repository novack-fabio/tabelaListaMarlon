import{r as B,af as G,k as O,D as N,ag as H,E as J,n as I,ah as K,B as X,p as S,c as f,d as m,m as j,u as U,q as a,ai as Y,aj as Z,g as p,s as y,ak as ee,al as te,a2 as ne,a9 as E,aa as re,P as ae,H as ie,am as se,an as R,Q as le,ao as $}from"./index-9cd8c063.js";function me(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=B(),t=B();if(G){const l=new ResizeObserver(o=>{e==null||e(o,l),o.length&&(i==="content"?t.value=o[0].contentRect:t.value=o[0].target.getBoundingClientRect())});O(()=>{l.disconnect()}),N(r,(o,s)=>{s&&(l.unobserve(H(s)),t.value=void 0),o&&l.observe(H(o))},{flush:"post"})}return{resizeRef:r,contentRect:J(t)}}const oe=S({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),fe=I(!1)({name:"VDefaultsProvider",props:oe(),setup(e,i){let{slots:r}=i;const{defaults:t,disabled:l,reset:o,root:s,scoped:u}=K(e);return X(t,{reset:o,root:s,scoped:u,disabled:l}),()=>{var g;return(g=r.default)==null?void 0:g.call(r)}}});const ue=S({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ce(e){return{dimensionStyles:f(()=>({height:m(e.height),maxHeight:m(e.maxHeight),maxWidth:m(e.maxWidth),minHeight:m(e.minHeight),minWidth:m(e.minWidth),width:m(e.width)}))}}function de(e){return{aspectStyles:f(()=>{const i=Number(e.aspectRatio);return i?{paddingBottom:String(1/i*100)+"%"}:void 0})}}const F=S({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...j(),...ue()},"VResponsive"),k=I()({name:"VResponsive",props:F(),setup(e,i){let{slots:r}=i;const{aspectStyles:t}=de(e),{dimensionStyles:l}=ce(e);return U(()=>{var o;return a("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[l.value,e.style]},[a("div",{class:"v-responsive__sizer",style:t.value},null),(o=r.additional)==null?void 0:o.call(r),r.default&&a("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])}),{}}}),ge=S({alt:String,cover:Boolean,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...F(),...j(),...Y()},"VImg"),Se=I()({name:"VImg",directives:{intersect:Z},props:ge(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,i){let{emit:r,slots:t}=i;const l=p("VImg"),o=y(""),s=B(),u=y(e.eager?"loading":"idle"),g=y(),_=y(),d=f(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),h=f(()=>d.value.aspect||g.value/_.value||0);N(()=>e.src,()=>{P(u.value!=="idle")}),N(h,(n,c)=>{!n&&c&&s.value&&b(s.value)}),ee(()=>P());function P(n){if(!(e.eager&&n)&&!(te&&!n&&!e.eager)){if(u.value="loading",d.value.lazySrc){const c=new Image;c.src=d.value.lazySrc,b(c,null)}d.value.src&&ne(()=>{var c;r("loadstart",((c=s.value)==null?void 0:c.currentSrc)||d.value.src),setTimeout(()=>{var v;if(!l.isUnmounted)if((v=s.value)!=null&&v.complete){if(s.value.naturalWidth||w(),u.value==="error")return;h.value||b(s.value,null),u.value==="loading"&&V()}else h.value||b(s.value),C()})})}}function V(){var n;l.isUnmounted||(C(),b(s.value),u.value="loaded",r("load",((n=s.value)==null?void 0:n.currentSrc)||d.value.src))}function w(){var n;l.isUnmounted||(u.value="error",r("error",((n=s.value)==null?void 0:n.currentSrc)||d.value.src))}function C(){const n=s.value;n&&(o.value=n.currentSrc||n.src)}let z=-1;O(()=>{clearTimeout(z)});function b(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const v=()=>{if(clearTimeout(z),l.isUnmounted)return;const{naturalHeight:x,naturalWidth:D}=n;x||D?(g.value=D,_.value=x):!n.complete&&u.value==="loading"&&c!=null?z=window.setTimeout(v,c):(n.currentSrc.endsWith(".svg")||n.currentSrc.startsWith("data:image/svg+xml"))&&(g.value=1,_.value=1)};v()}const W=f(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),q=()=>{var v;if(!d.value.src||u.value==="idle")return null;const n=a("img",{class:["v-img__img",W.value],style:{objectPosition:e.position},src:d.value.src,srcset:d.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:s,onLoad:V,onError:w},null),c=(v=t.sources)==null?void 0:v.call(t);return a(R,{transition:e.transition,appear:!0},{default:()=>[E(c?a("picture",{class:"v-img__picture"},[c,n]):n,[[se,u.value==="loaded"]])]})},A=()=>a(R,{transition:e.transition},{default:()=>[d.value.lazySrc&&u.value!=="loaded"&&a("img",{class:["v-img__img","v-img__img--preload",W.value],style:{objectPosition:e.position},src:d.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),M=()=>t.placeholder?a(R,{transition:e.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!t.error)&&a("div",{class:"v-img__placeholder"},[t.placeholder()])]}):null,L=()=>t.error?a(R,{transition:e.transition,appear:!0},{default:()=>[u.value==="error"&&a("div",{class:"v-img__error"},[t.error()])]}):null,Q=()=>e.gradient?a("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=y(!1);{const n=N(h,c=>{c&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),n())})}return U(()=>{const n=k.filterProps(e);return E(a(k,ie({class:["v-img",{"v-img--booting":!T.value},e.class],style:[{width:m(e.width==="auto"?g.value:e.width)},e.style]},n,{aspectRatio:h.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>a(ae,null,[a(q,null,null),a(A,null,null),a(Q,null,null),a(M,null,null),a(L,null,null)]),default:t.default}),[[re("intersect"),{handler:P,options:e.options},null,{once:!0}]])}),{currentSrc:o,image:s,state:u,naturalWidth:g,naturalHeight:_}}}),he=S({border:[Boolean,Number,String]},"border");function be(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le();return{borderClasses:f(()=>{const t=$(e)?e.value:e.border,l=[];if(t===!0||t==="")l.push(`${i}--border`);else if(typeof t=="string"||t===0)for(const o of String(t).split(" "))l.push(`border-${o}`);return l})}}const ye=S({elevation:{type:[Number,String],validator(e){const i=parseInt(e);return!isNaN(i)&&i>=0&&i<=24}}},"elevation");function _e(e){return{elevationClasses:f(()=>{const r=$(e)?e.value:e.elevation,t=[];return r==null||t.push(`elevation-${r}`),t})}}export{Se as V,ye as a,be as b,_e as c,fe as d,ue as e,ce as f,k as g,he as m,me as u};
